<!DOCTYPE html>
<html>
<head>
  <title>Car Price Prediction</title>
</head>
<body>
  <h1>Predict Car Price</h1>

  <label>Make Year: <input id="make_year" type="number"></label><br>
  <label>Mileage (km/l): <input id="mileage_kmpl" type="number" step="0.1"></label><br>
  <label>Engine CC: <input id="engine_cc" type="number"></label><br>
  <label>Fuel Type: 
    <select id="fuel_type">
      <option>Petrol</option><option>Diesel</option><option>Electric</option>
    </select>
  </label><br>
  <label>Owner Count: <input id="owner_count" type="number"></label><br>
  <label>Price (USD): <input id="price_usd" type="number"></label><br>
  <label>Brand: 
    <select id="brand">
      <option>Toyota</option><option>Honda</option><option>Ford</option><option>BMW</option>
      <option>Nissan</option><option>Volkswagen</option><option>Tesla</option><option>Kia</option>
    </select>
  </label><br>
  <label>Transmission: 
    <select id="transmission"><option>Manual</option><option>Automatic</option></select>
  </label><br>
  <label>Color: 
    <select id="color"><option>Gray</option><option>Black</option><option>White</option><option>Red</option></select>
  </label><br>
  <label>Service History: 
    <select id="service_history"><option>Full</option><option>Partial</option><option>None</option></select>
  </label><br>
  <label>Accidents Reported: <input id="accidents_reported" type="number"></label><br>
  <label>Insurance Valid: 
    <select id="insurance_valid"><option>Yes</option><option>No</option></select>
  </label><br><br>

  <button onclick="predict()">Predict</button>
  <p id="result"></p>

  <script>
    async function predict() {
      const data = {
        make_year: parseInt(document.getElementById('make_year').value),
        mileage_kmpl: parseFloat(document.getElementById('mileage_kmpl').value),
        engine_cc: parseInt(document.getElementById('engine_cc').value),
        fuel_type: document.getElementById('fuel_type').value,
        owner_count: parseInt(document.getElementById('owner_count').value),
        price_usd: parseFloat(document.getElementById('price_usd').value),
        brand: document.getElementById('brand').value,
        transmission: document.getElementById('transmission').value,
        color: document.getElementById('color').value,
        service_history: document.getElementById('service_history').value,
        accidents_reported: parseInt(document.getElementById('accidents_reported').value),
        insurance_valid: document.getElementById('insurance_valid').value
      };

      const response = await fetch("http://127.0.0.1:8000/predict", {
        method: "POST",
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
      });

      const result = await response.json();
      document.getElementById("result").innerText = "Predicted Price: $" + result.prediction.toFixed(2);
    }
  </script>
</body>
</html>
